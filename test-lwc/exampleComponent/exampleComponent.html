<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center">
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span>Contact Search</span>
                    </h2>
                </div>
            </header>
        </div>
        
        <div class="slds-card__body slds-card__body_inner">
            <lightning-input 
                type="search"
                label="Search Contacts"
                value={searchTerm}
                onchange={handleSearchTermChange}>
            </lightning-input>
                
            <template if:true={isLoading}>
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </template>
            
            <template if:true={hasContacts}>
                <div class="slds-scrollable_y" style="height: 300px;">
                    <ul class="slds-has-dividers_bottom-space">
                        <template for:each={contacts} for:item="contact">
                            <li key={contact.Id} class="slds-item">
                                <div class="slds-grid slds-gutters">
                                    <div class="slds-col">
                                        <p class="slds-text-heading_small">
                                            {contact.Name}
                                        </p>
                                        <p class="slds-text-body_regular">
                                            {contact.Email}
                                        </p>
                                    </div>
                                    <div class="slds-col slds-no-flex slds-align-middle">
                                        <lightning-button 
                                            label="View Details"
                                            onclick={handleViewDetails}
                                            data-id={contact.Id}>
                                        </lightning-button>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </div>
            </template>
        </div>
    </div>
</template> 